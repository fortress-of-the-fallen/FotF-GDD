% ===================== main.tex (FULL) =====================
\documentclass[12pt,a4paper]{article}

% ================== GÓI TIẾNG VIỆT & CƠ BẢN ==================
% Thứ tự ổn định cho pdfLaTeX + vntex
\usepackage[utf8]{inputenc}
\usepackage[utf8]{vntex}
\usepackage[english,vietnamese]{babel}

% ================== NÉ LỖI SPLIT BOX / GLUE ==================
% Giảm việc TeX ép co giãn chiều dọc khi ngắt trang
\raggedbottom

% ================== FONT ==================
% Latin Modern để ổn định hơn khi dùng T5
\usepackage{lmodern}
\renewcommand{\ttdefault}{lmtt}

% ================== CỘT BẢNG RAGGEDRIGHT ==================
\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\newcolumntype{Y}{>{\raggedright\arraybackslash}X}

% ================== GÓI CƠ BẢN ==================
\usepackage{blindtext}
\usepackage{float}
\usepackage{pdfpages}
\usepackage{longtable}

\definecolor{codebg}{RGB}{245,245,245}
\definecolor{codeframe}{RGB}{200,200,200}
\definecolor{codekeyword}{RGB}{0,0,120}
\definecolor{codestring}{RGB}{120,0,0}
\definecolor{codecomment}{RGB}{0,96,0}

% ================== GÓI BỔ TRỢ ==================
\usepackage{a4wide,amssymb,epsfig,latexsym,multicol,hhline,fancyhdr}
\usepackage[dvipsnames]{xcolor}
\usepackage[framemethod=tikz]{mdframed}
\usepackage{lastpage}
\usepackage[lined,boxed,commentsnumbered]{algorithm2e}
\usepackage{enumerate}
\usepackage{alltt}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{lipsum}
\usepackage{pdflscape}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{rotating}
\usepackage{subcaption}
\usepackage{sectsty}
\usepackage{geometry}
\usepackage{setspace}
\usepackage{amsmath}
\usepackage{enumitem}
\usepackage{tikz}
\usepackage{indentfirst}
\usetikzlibrary{arrows,snakes,backgrounds,calc}
\usepackage{colortbl}
\usepackage{makecell}
\usepackage{listings}

% ================== BIBLIOGRAPHY ==================
\usepackage[
    backend=biber,
    style=numeric,
    sorting=none,
    language=english
]{biblatex}
\addbibresource{refs.bib}

% ================== LISTINGS ==================
\lstdefinelanguage{json}{
  morestring=[b]",
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morekeywords={true,false,null}
}
\lstdefinestyle{report}{
  backgroundcolor=\color{codebg},
  frame=single,
  rulecolor=\color{codeframe},
  basicstyle=\ttfamily\small,
  keywordstyle=\color{codekeyword}\bfseries,
  stringstyle=\color{codestring},
  commentstyle=\color{codecomment}\itshape,
  numbers=left,
  numberstyle=\tiny\color{gray},
  stepnumber=1,
  numbersep=8pt,
  breaklines=true,
  breakatwhitespace=true,
  showstringspaces=false,
  tabsize=2,
  captionpos=b,
  xleftmargin=1em,
  xrightmargin=1em
}
\lstset{style=report}

% ================== HYPERREF ==================
\usepackage[unicode,hypertexnames=false]{hyperref}
\hypersetup{
    hidelinks,
    colorlinks=false
}

% ================== LỀ TRANG ==================
\geometry{
    a4paper,
    left=20mm,
    right=20mm,
    top=20mm,
    bottom=25mm
}

% ================== DÒNG CÁCH ==================
\onehalfspacing

% ================== HEADER / FOOTER ==================
\setlength{\headheight}{40pt}
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}

% KHÔNG dùng \ttfamily cho tiếng Việt ở footer
\fancyfoot[L]{\scriptsize \sffamily Khoa Khoa Học và Kỹ Thuật Máy Tính}
\fancyfoot[R]{\scriptsize \sffamily Page {\thepage}/\pageref{LastPage}}

\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0.3pt}

% ================== KHÁC ==================
\renewcommand{\contentsname}{Mục lục}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

% ===================== TRANG BÌA (có thông tin hội đồng) =====================
\input{Content/titlepage}

% Phần đầu: đánh số trang kiểu roman (trang bìa để empty nên không hiển thị số)
\clearpage
\pagenumbering{roman}

% ===================== LỜI CẢM ƠN =====================
\input{Content/acknowledgements}
\clearpage

% ===================== LỜI CAM ĐOAN =====================
\input{Content/protestation}
\clearpage

% ===================== TÓM TẮT =====================
\input{Content/abstract}
\clearpage

% ===================== DANH MỤC THUẬT NGỮ =====================
\input{Content/glossary}
\clearpage

% ===================== TOC, LOF, LOT =====================
\begin{singlespace}
\tableofcontents
\end{singlespace}
\clearpage

\begin{singlespace}
\listoffigures
\end{singlespace}
\clearpage

\begin{singlespace}
\listoftables
\end{singlespace}
\clearpage

% ===================== NỘI DUNG CHÍNH =====================
\pagenumbering{arabic}

% (Tuỳ chọn) Reset bộ đếm trước nội dung chính
\setcounter{table}{0}
\setcounter{figure}{0}
\setcounter{section}{0}

\input{Content/introduction}
\input{Content/background}
\input{Content/technology}
\input{Content/relatedworks}
\input{Content/requirements}
\input{Content/analysis}
\input{Content/design}
\input{Content/implementation}
\input{Content/evaluation}
\input{Content/conclusion}

% ===================== TIMELINE GIAI ĐOẠN TIẾP THEO =====================
% Nếu bạn muốn timeline nằm trong Phụ lục thì chuyển \input này sang Content/appendices.
\clearpage
\input{Content/contributions}
\clearpage
\input{Content/timeline_next_phase}

% ===================== TÀI LIỆU THAM KHẢO =====================
\clearpage
\addcontentsline{toc}{section}{Tài liệu tham khảo}
\printbibliography

% ===================== PHỤ LỤC =====================
\clearpage
\input{Content/appendices}

\end{document}
